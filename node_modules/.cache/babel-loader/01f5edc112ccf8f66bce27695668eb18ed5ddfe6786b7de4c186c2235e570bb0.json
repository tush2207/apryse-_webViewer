{"ast":null,"code":"import _slicedToArray from \"/home/v2stech/Desktop/apryse _webViewer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _s = $RefreshSig$();\nimport { useEffect, useState, useCallback } from \"react\";\nimport WebViewer from \"@pdftron/webviewer\";\nimport { WEB_VIEWER_ENTITIES } from \"../config/constants\";\nfunction useFileEditor(viewerRef) {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedPDF = _useState2[0],\n    setSelectedPDF = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    response = _useState4[0],\n    setResponse = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    documentViewer = _useState6[0],\n    setDocumentViewer = _useState6[1];\n  var handleDocumentLoaded = useCallback(function (documentViewer, annotationManager, Annotations) {\n    var rectangleAnnotate = new Annotations.RectangleAnnotation({\n      Author: annotationManager.getCurrentUser()\n    });\n    annotationManager.addAnnotation(rectangleAnnotate);\n    annotationManager.redrawAnnotation(rectangleAnnotate);\n  }, []);\n  var handleMouseLeftDown = useCallback(function () {\n    console.log(\"Mouse left button down\");\n  }, []);\n  var handleRowClick = function handleRowClick(pdfUrl) {\n    // Set the selected PDF when a row is clicked\n    setSelectedPDF(pdfUrl);\n  };\n  useEffect(function () {\n    // Load the selected PDF when it changes\n    if (selectedPDF && documentViewer) {\n      documentViewer === null || documentViewer === void 0 ? void 0 : documentViewer.loadDocument(selectedPDF).then(function () {});\n    }\n  }, [selectedPDF, documentViewer]);\n  useEffect(function () {\n    var initializationConfig = {\n      preloadWorker: WebViewer.WorkerTypes.CONTENT_EDIT,\n      path: WEB_VIEWER_ENTITIES.PATH,\n      licenseKey: WEB_VIEWER_ENTITIES.LICENSE_KEY,\n      extension: WEB_VIEWER_ENTITIES.EXTENSION\n    };\n    WebViewer(initializationConfig, viewerRef.current).then(function (instance) {\n      var _documentViewer$addEv, _eventHandler$attach;\n      instance.UI.disableElements([\"leftPanel\", \"leftPanelButton\"]);\n      instance.UI.enableElements([\"leftPanel\", \"leftPanelButton\"]);\n      var _instance$Core = instance.Core,\n        documentViewer = _instance$Core.documentViewer,\n        annotationManager = _instance$Core.annotationManager,\n        Annotations = _instance$Core.Annotations;\n      setDocumentViewer(documentViewer);\n      instance.UI.enableFeatures([instance.UI.Feature.ContentEdit]);\n      instance.UI.disableElements([\"toolbarGroup-Shapes\"]);\n      var handleDocumentLoadedEvent = function handleDocumentLoadedEvent() {\n        handleDocumentLoaded(documentViewer, annotationManager, Annotations);\n        // Set the response state with the documentViewer, annotationManager, and Annotations\n        setResponse(documentViewer);\n      };\n      console.log(\"resz\", response);\n      documentViewer === null || documentViewer === void 0 ? void 0 : (_documentViewer$addEv = documentViewer.addEventListener) === null || _documentViewer$addEv === void 0 ? void 0 : _documentViewer$addEv.call(documentViewer, \"documentLoaded\", handleDocumentLoadedEvent);\n      var eventHandler = instance.Core.EventHandler;\n      eventHandler === null || eventHandler === void 0 ? void 0 : (_eventHandler$attach = eventHandler.attach) === null || _eventHandler$attach === void 0 ? void 0 : _eventHandler$attach.call(eventHandler, \"mouseLeftDown\", handleMouseLeftDown);\n    });\n  }, [viewerRef, handleDocumentLoaded, handleMouseLeftDown]);\n\n  // Return the response state along with other values\n  return {\n    selectedPDF: selectedPDF,\n    handleRowClick: handleRowClick,\n    response: response\n  };\n}\n_s(useFileEditor, \"j5VivamjlY9G2dyaeZJ0vfsSxCU=\");\nexport default useFileEditor;","map":{"version":3,"names":["useEffect","useState","useCallback","WebViewer","WEB_VIEWER_ENTITIES","useFileEditor","viewerRef","_s","_useState","_useState2","_slicedToArray","selectedPDF","setSelectedPDF","_useState3","_useState4","response","setResponse","_useState5","_useState6","documentViewer","setDocumentViewer","handleDocumentLoaded","annotationManager","Annotations","rectangleAnnotate","RectangleAnnotation","Author","getCurrentUser","addAnnotation","redrawAnnotation","handleMouseLeftDown","console","log","handleRowClick","pdfUrl","loadDocument","then","initializationConfig","preloadWorker","WorkerTypes","CONTENT_EDIT","path","PATH","licenseKey","LICENSE_KEY","extension","EXTENSION","current","instance","_documentViewer$addEv","_eventHandler$attach","UI","disableElements","enableElements","_instance$Core","Core","enableFeatures","Feature","ContentEdit","handleDocumentLoadedEvent","addEventListener","call","eventHandler","EventHandler","attach"],"sources":["/home/v2stech/Desktop/apryse _webViewer/src/components/FileEditor/useFileEditor.js"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\n\nimport WebViewer from \"@pdftron/webviewer\";\n\nimport { WEB_VIEWER_ENTITIES } from \"../config/constants\";\n\nfunction useFileEditor(viewerRef) {\n  const [selectedPDF, setSelectedPDF] = useState(null);\n  const [response, setResponse] = useState(null);\n  const [documentViewer, setDocumentViewer] = useState(null);\n\n  const handleDocumentLoaded = useCallback(\n    (documentViewer, annotationManager, Annotations) => {\n      const rectangleAnnotate = new Annotations.RectangleAnnotation({\n        Author: annotationManager.getCurrentUser(),\n      });\n\n      annotationManager.addAnnotation(rectangleAnnotate);\n      annotationManager.redrawAnnotation(rectangleAnnotate);\n    },\n    []\n  );\n\n  const handleMouseLeftDown = useCallback(() => {\n    console.log(\"Mouse left button down\");\n  }, []);\n\n  const handleRowClick = (pdfUrl) => {\n    // Set the selected PDF when a row is clicked\n    setSelectedPDF(pdfUrl);\n  };\n  useEffect(() => {\n    // Load the selected PDF when it changes\n    if (selectedPDF && documentViewer) {\n      documentViewer?.loadDocument(selectedPDF).then(() => {});\n    }\n  }, [selectedPDF, documentViewer]);\n\n  useEffect(() => {\n    const initializationConfig = {\n      preloadWorker: WebViewer.WorkerTypes.CONTENT_EDIT,\n      path: WEB_VIEWER_ENTITIES.PATH,\n      licenseKey: WEB_VIEWER_ENTITIES.LICENSE_KEY,\n      extension: WEB_VIEWER_ENTITIES.EXTENSION,\n    };\n\n    WebViewer(initializationConfig, viewerRef.current).then((instance) => {\n      instance.UI.disableElements([\"leftPanel\", \"leftPanelButton\"]);\n      instance.UI.enableElements([\"leftPanel\", \"leftPanelButton\"]);\n\n      const { documentViewer, annotationManager, Annotations } = instance.Core;\n      setDocumentViewer(documentViewer);\n\n      instance.UI.enableFeatures([instance.UI.Feature.ContentEdit]);\n      instance.UI.disableElements([\"toolbarGroup-Shapes\"]);\n\n      const handleDocumentLoadedEvent = () => {\n        handleDocumentLoaded(documentViewer, annotationManager, Annotations);\n        // Set the response state with the documentViewer, annotationManager, and Annotations\n        setResponse(documentViewer);\n      };\n      console.log(\"resz\", response);\n\n      documentViewer?.addEventListener?.(\n        \"documentLoaded\",\n        handleDocumentLoadedEvent\n      );\n\n      const eventHandler = instance.Core.EventHandler;\n      eventHandler?.attach?.(\"mouseLeftDown\", handleMouseLeftDown);\n    });\n  }, [viewerRef, handleDocumentLoaded, handleMouseLeftDown]);\n\n  // Return the response state along with other values\n  return { selectedPDF, handleRowClick, response };\n}\n\nexport default useFileEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}